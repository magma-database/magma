This class operates on the client and server.